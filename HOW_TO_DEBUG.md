# 如何调试进度卡住问题

## 快速开始

### 1️⃣ 打开开发者工具
按 **F12** 键，或右键点击页面选择"检查"

### 2️⃣ 切换到控制台
点击 **Console** 标签页

### 3️⃣ 上传视频并分析
上传视频后点击"开始分析"，观察控制台输出

## 正常情况下的日志

```
✅ 开始分析 8 个镜头
✅ 正在分析第 1/8 个镜头，时间戳: 0秒
✅ 提交第 1 个镜头的图像分析请求...
✅ 提交图像分析请求...
✅ 图像分析响应: {status: 0, ...}
✅ 第 1 个镜头提交成功，任务ID: xxx
✅ 等待第 1 个镜头的分析结果...
✅ 开始轮询任务结果，任务ID: xxx
✅ 轮询尝试 1/30
✅ 任务状态码: 1
✅ 任务处理中，等待 2000ms 后重试...
✅ 轮询尝试 2/30
✅ 任务状态码: 0
✅ 任务完成，返回结果
✅ 第 1 个镜头分析完成
✅ 进度更新: 36.2%
✅ 正在分析第 2/8 个镜头...
```

## 问题诊断

### 🔴 卡在30%，看不到"开始分析 X 个镜头"
**问题：** 音频分析阶段出错  
**解决：** 查看前面的错误日志

### 🔴 看到"提交请求"但没有"提交成功"
**问题：** API调用失败  
**解决：** 检查网络连接，查看错误信息

### 🔴 一直显示"轮询尝试"，任务状态码一直是1
**问题：** API处理时间过长  
**解决：** 耐心等待（最多60秒），或尝试更短的视频

### 🔴 显示"HTTP错误: XXX"
**问题：** 网络或服务器问题  
**解决：** 检查网络，稍后重试

### 🔴 任务状态码不是0或1
**问题：** API返回错误  
**解决：** 查看错误消息，检查视频格式

## 进度对照表

| 进度 | 阶段 | 预计时间 |
|------|------|----------|
| 0-10% | 提取关键帧 | 5-10秒 |
| 10-30% | 音频分析 | 10-30秒 |
| 30-80% | 画面分析 | 1-5分钟 |
| 80-100% | 生成总结 | 5-10秒 |

## 常见问题

### Q: 进度条不动了怎么办？
A: 打开控制台查看最后一条日志，根据上面的诊断表定位问题

### Q: 显示"分析失败"怎么办？
A: 查看具体的错误信息，可能是视频格式不支持或网络问题

### Q: 可以跳过某个失败的镜头吗？
A: 可以，系统会自动跳过失败的镜头继续分析下一个

### Q: 需要等多久？
A: 10秒视频约1-2分钟，30秒视频约2-4分钟

## 需要帮助？

如果问题仍未解决：
1. 📸 截图控制台的完整日志
2. 📝 记录视频信息（时长、格式、大小）
3. 📋 描述具体的错误现象
4. 💬 联系技术支持

---

**提示：** 建议使用10-30秒的短视频进行测试
