# 🎉 短视频拉片分析工具 - 完整功能说明

## 📋 系统概述

短视频拉片分析工具是一个专业的视频分析与创作辅助平台，集成了用户认证、积分系统、视频分析和AI提示词生成等功能。

---

## ✨ 核心功能

### 1. 用户认证系统 🔐

#### 注册功能
- 用户名+密码注册
- 用户名只能包含字母、数字和下划线
- 密码长度至少6位
- 新用户注册赠送100积分
- 首个注册用户自动成为管理员

#### 登录功能
- 用户名+密码登录
- 自动保持登录状态
- 支持登出功能

#### 用户信息
- 显示用户名
- 显示当前积分余额
- 管理员显示特殊标识

### 2. 积分系统 💰

#### 积分规则
- **视频拉片分析**：消耗10积分/次
- **AI提示词生成**：消耗10积分/次
- 新用户注册赠送：100积分
- 积分永久有效，不过期

#### 充值套餐
1. **基础套餐**
   - 价格：¥39
   - 积分：1600
   - 适合：个人用户
   - 约可分析：80个视频

2. **专业套餐**（推荐）
   - 价格：¥199
   - 积分：10000
   - 适合：专业创作者
   - 约可分析：500个视频

3. **商业合作**
   - 价格：¥2980起
   - 服务：定制化系统开发
   - 包含：专属技术支持、私有化部署、源码交付

#### 充值流程
1. 点击"立即充值"按钮
2. 弹出联系客服对话框
3. 显示客服微信号：**laoyi006**
4. 添加微信后发送充值信息
5. 支付成功后，积分在1小时内到账

### 3. 视频拉片分析 🎬

#### 功能特点
- 自动提取视频关键帧
- AI分析每个镜头的景别、角度、运动方式
- 识别视频中的语音内容（字幕）
- 生成详细的分镜拆解报告

#### 分析内容
- **镜头信息**：时间戳、时长
- **拍摄手法**：景别（远景、全景、中景、近景、特写）
- **镜头角度**：平视、俯视、仰视
- **运动方式**：固定镜头、推镜头、拉镜头、摇镜头
- **画面内容**：详细的视觉元素描述
- **字幕内容**：识别出的人物对白或旁白

#### 使用流程
1. 登录账号
2. 上传视频文件（MP4、MOV等格式）
3. 点击"开始分析"
4. 系统自动扣除10积分
5. 等待分析完成
6. 查看详细的分镜拆解报告

### 4. AI提示词生成 ✨

#### 功能特点
- 基于百度NLP技术
- 生成分时段的专业视频创作提示词
- 结合画面描述和字幕内容
- 适合AI视频生成工具使用

#### 生成内容
- **时间信息**：每个镜头的起止时间
- **拍摄手法**：景别、角度、运动方式
- **画面内容**：详细的视觉元素描述
- **人物对白**：字幕内容
- **整体风格**：色调、氛围、节奏

#### 使用流程
1. 完成视频分析
2. 点击"生成提示词"按钮
3. 系统自动扣除10积分
4. 等待AI生成
5. 查看生成的提示词
6. 一键复制使用

### 5. 管理后台 🛠️

#### 访问权限
- 仅管理员可访问
- 不在导航栏显示
- 直接访问路径：`/admin`

#### 管理功能

##### 用户管理
- 查看所有用户列表
- 显示用户信息：
  - 用户名
  - 角色（管理员/普通用户）
  - 积分余额
  - 总消费积分
  - 总充值积分
  - 视频分析次数
  - 提示词生成次数
  - 注册时间
- 调整用户积分：
  - 增加积分
  - 减少积分
  - 填写操作说明

##### 交易记录
- 查看所有积分交易记录
- 显示信息：
  - 用户
  - 交易类型（充值/消费/管理员操作/赠送）
  - 积分变动
  - 交易后余额
  - 说明
  - 时间

##### 使用记录
- 查看所有功能使用记录
- 显示信息：
  - 用户
  - 操作类型（视频分析/提示词生成）
  - 消耗积分
  - 视频时长
  - 时间

##### 数据统计
- 总用户数
- 总积分余额
- 总消费积分
- 总充值积分

---

## 🎯 使用场景

### 1. 个人创作者
- 分析优秀短视频的拍摄手法
- 学习镜头语言和叙事技巧
- 生成AI视频创作提示词
- 提升视频创作水平

### 2. 专业团队
- 批量分析竞品视频
- 研究行业趋势和风格
- 快速生成视频脚本
- 提高团队创作效率

### 3. 教育培训
- 教学演示视频分析
- 拍摄技巧讲解
- 学生作品评析
- 视频制作培训

### 4. 商业应用
- 产品宣传视频分析
- 广告创意研究
- 品牌视频策划
- 营销内容优化

---

## 🔒 安全与隐私

### 数据安全
- 使用Supabase云数据库
- 数据加密存储
- 安全的用户认证
- 行级安全策略（RLS）

### 权限控制
- 用户只能查看自己的数据
- 管理员拥有完整权限
- 积分操作原子性保证
- 防止并发冲突

### 隐私保护
- 不收集敏感个人信息
- 视频文件不上传服务器
- 本地处理视频数据
- 仅上传分析结果

---

## 💡 使用技巧

### 1. 视频选择
- 选择清晰度高的视频
- 确保视频有明确的镜头切换
- 人声清晰的视频字幕识别效果更好
- 视频时长建议在10-60秒

### 2. 积分管理
- 新用户先用赠送的100积分体验
- 根据使用频率选择合适的充值套餐
- 专业套餐性价比最高
- 积分永久有效，可以一次性充值较多

### 3. 分析结果
- 仔细查看每个镜头的详细描述
- 注意字幕内容与画面的对应关系
- 学习专业的拍摄手法术语
- 参考统计信息了解视频结构

### 4. 提示词使用
- 生成的提示词可以直接复制使用
- 可以根据需要手动调整
- 适合各种AI视频生成工具
- 保存常用的提示词作为模板

---

## 📊 系统架构

### 前端技术
- React + TypeScript
- Tailwind CSS
- shadcn/ui 组件库
- React Router

### 后端技术
- Supabase（数据库 + 认证）
- PostgreSQL
- Row Level Security (RLS)
- RPC 函数

### AI服务
- 百度智能云视频分析API
- 百度语音识别API
- 百度NLP API

---

## 🎓 数据库设计

### profiles（用户信息表）
- id：用户ID
- username：用户名
- phone：手机号（可选）
- email：邮箱（可选）
- role：角色（user/admin）
- points：积分余额
- created_at：创建时间
- updated_at：更新时间

### point_transactions（积分交易记录表）
- id：交易ID
- user_id：用户ID
- type：交易类型
- amount：积分数量
- balance_after：交易后余额
- description：描述
- created_at：创建时间

### usage_logs（使用记录表）
- id：记录ID
- user_id：用户ID
- action_type：操作类型
- points_cost：消耗积分
- video_duration：视频时长
- created_at：创建时间

---

## 🚀 快速开始

### 1. 注册账号
1. 访问网站
2. 点击右上角"登录/注册"
3. 切换到"注册"标签
4. 输入用户名和密码
5. 点击"注册"按钮
6. 自动获得100积分

### 2. 分析视频
1. 登录账号
2. 点击"上传视频"
3. 选择视频文件
4. 点击"开始分析"
5. 等待分析完成
6. 查看分析结果

### 3. 生成提示词
1. 完成视频分析
2. 滚动到"AI视频提示词生成"
3. 点击"生成提示词"
4. 等待生成完成
5. 点击"复制"按钮
6. 粘贴到AI工具使用

### 4. 充值积分
1. 点击导航栏"积分充值"
2. 选择合适的套餐
3. 点击"立即充值"
4. 添加客服微信：laoyi006
5. 发送充值信息
6. 完成支付
7. 等待积分到账

---

## 📞 联系我们

### 客服微信
**laoyi006**

### 服务时间
工作日 9:00-18:00

### 服务内容
- 充值咨询
- 使用指导
- 问题反馈
- 商业合作

---

## 🎉 特色亮点

### 1. 专业分析
- 基于百度智能云AI技术
- 准确识别镜头语言
- 详细的画面描述
- 专业的术语标注

### 2. 字幕识别
- 自动提取视频音频
- 识别人声内容
- 匹配到对应镜头
- 整合到分析报告

### 3. AI生成
- 分时段分镜描述
- 结合字幕内容
- 专业的提示词格式
- 直接可用于AI工具

### 4. 积分系统
- 灵活的充值套餐
- 永久有效不过期
- 透明的消费记录
- 安全的交易保障

### 5. 管理后台
- 完整的用户管理
- 详细的数据统计
- 灵活的积分调整
- 全面的记录查询

---

## 📝 更新日志

### v3.0 - 2025-12-03

#### 新增功能
- ✅ 用户注册登录系统
- ✅ 积分充值功能
- ✅ 积分消费机制
- ✅ 管理后台
- ✅ 用户数据统计
- ✅ 交易记录查询
- ✅ 使用记录查询

#### 功能优化
- ✅ 视频分析增加积分扣除
- ✅ 提示词生成增加积分扣除
- ✅ 优化用户界面
- ✅ 增强数据安全

#### 数据库
- ✅ 创建用户信息表
- ✅ 创建积分交易表
- ✅ 创建使用记录表
- ✅ 实现RLS安全策略
- ✅ 创建RPC函数

---

## 🎯 未来规划

### 短期计划
- [ ] 支持更多视频格式
- [ ] 优化字幕识别准确率
- [ ] 增加视频预览功能
- [ ] 支持批量分析

### 中期计划
- [ ] 移动端适配
- [ ] 视频编辑功能
- [ ] 模板库功能
- [ ] 社区分享功能

### 长期计划
- [ ] AI视频生成集成
- [ ] 多语言支持
- [ ] 企业版功能
- [ ] API接口开放

---

**文档版本：** v3.0  
**创建日期：** 2025-12-03  
**状态：** ✅ 已完成  
**作者：** 秒哒AI助手
